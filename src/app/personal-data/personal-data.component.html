<div class="container">
    <div class="row justify-content-center">
        <div class="col-8">
            <mat-card>
                <form class="example-form" [formGroup]="formulaire" (ngSubmit)="onSubmit()">
                    <div formGroupName="contact">
                        <mat-form-field class="example-full-width">
                            <mat-label>First Name</mat-label>
                            <input matInput formControlName="first" required>
                        </mat-form-field>
                        <mat-form-field class="example-full-width">
                            <mat-label>Last Name</mat-label>
                            <input matInput formControlName="last" required>
                        </mat-form-field>
                        <mat-form-field class="example-full-width">
                            <mat-label>Age</mat-label>
                            <input matInput type="number" formControlName="age" required>
                        </mat-form-field>
                        <mat-form-field class="example-full-width">
                            <mat-label>Email</mat-label>
                            <input matInput formControlName="email" placeholder="Ex. pat@example.com" required>

                            <mat-error *ngIf="formulaire.get('contact').hasError('email', 'email')">
                                Please enter a valid email address
                            </mat-error>
                            <mat-error *ngIf="formulaire.get('contact').hasError('required', 'email')">
                                The Email is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="example-full-width">
                            <mat-label>Address</mat-label>
                            <input matInput formControlName="address" required>
                        </mat-form-field>
                        <mat-form-field class="example-full-width">
                            <mat-label>Phone</mat-label>
                            <input matInput formControlName="phone" required>
                        </mat-form-field>
                    </div>
                    <!-- <button mat-icon-button color="accent" (click)="addSkillClick()">
                        <mat-icon>playlist_add</mat-icon>
                      </button> -->
                    <div formArrayName="skillang">
                        <mat-form-field class="example-full-width">
                            <mat-chip-list #chipList aria-label="Skill selection">
                                <mat-chip *ngFor="let skill of formulaire.get('skillang').controls"
                                    [selectable]="selectable" [removable]="removable" (removed)="remove(skill)">
                                    {{skill.value}}
                                    <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                                </mat-chip>

                                <input placeholder="New skill..." #skillInput [formControl]="skillCtrl"
                                    [matAutocomplete]="auto" [matChipInputFor]="chipList"
                                    [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                    (matChipInputTokenEnd)="add($event)">
                            </mat-chip-list>
                            <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
                                <mat-option *ngFor="let skill of filteredSkills| async" [value]="skill">
                                    {{skill}}
                                </mat-option>
                            </mat-autocomplete>
                        </mat-form-field>
                        <!-- <mat-form-field class="example-full-width">
                                <input type="text" placeholder="Languages" aria-label="Number" matInput
                                    [matAutocomplete]="auto" formControlName="languages" required>
                                <mat-autocomplete #auto="matAutocomplete">
                                    <mat-option *ngFor="let option of options" [value]="option">
                                        {{option}}
                                    </mat-option>
                                </mat-autocomplete>
                            </mat-form-field> -->

                    </div>
                    <button mat-icon-button color="accent" (click)="addProExpClick()">
                        <mat-icon>playlist_add</mat-icon>
                    </button>
                    <button mat-icon-button color="accent" (click)="removeProExpClick(i)">
                        <mat-icon>delete_sweep</mat-icon>
                    </button>
                    <div formArrayName="proexp" *ngFor="let exp of formulaire.get('proexp').controls; let i = index">
                        <div [formGroupName]="i" style="background-color: hsla(89, 43%, 51%, 0.3)">

                            <mat-form-field class="example-full-width">
                                <mat-label>Professional Experiences</mat-label>
                                <input matInput formControlName="experience" required>
                            </mat-form-field>
                            <mat-form-field class="example-full-width">
                                <mat-label>Company</mat-label>
                                <input matInput formControlName="company" required>
                            </mat-form-field>
                            <mat-form-field class="example-full-width">
                                <mat-label>Period</mat-label>
                                <input matInput formControlName="period" required>
                            </mat-form-field>
                        </div>
                    </div>
                    <mat-card-actions>
                        <button mat-raised-button [disabled]='!formulaire.valid' type="submit">Submit</button>
                    </mat-card-actions>
                </form>
            </mat-card>
        </div>
    </div>
</div>
